// Dizionario traduzioni
const translations = {
    it: {
        // Navigation
        nav_home: "Home",
        nav_services: "Servizi",
        nav_gallery: "Gallery",
        nav_recensioni: "Recensioni",
        nav_booking: "Prenota",
        nav_contacts: "Contatti",
        
        // Hero
        hero_tagline: '" L\'Eleganza è l\'unica Bellezza che non svanisce mai "',
        hero_cta: "Prenota Ora",
        
        // Services Section
        services_title: "I Nostri Servizi",
        services_subtitle: "Eccellenza e stile in ogni taglio",
        
        service_boy_title: "Taglio Boy",
        service_boy_desc: "Taglio dedicato ai più piccoli fino a 11 anni, curato con attenzione per garantire comfort e stile.",
        
        service_man_title: "Taglio Uomo",
        service_man_desc: "Taglio maschile dai 12 anni in su, personalizzato secondo il tuo stile e le ultime tendenze.",
        
        service_head_title: "Rasatura del Capo Smart",
        service_head_desc: "Rasatura rapida e precisa della testa con trimmer e shaver, completata da una crema idratante per la pelle.",
        
        service_beard_premium_title: "Modellatura Barba Premium",
        service_beard_premium_desc: "Rifinitura completa della barba con trimmer e lama, panno caldo e freddo, balsamo, olio e dopobarba. Opzione stiratura a piastra con supplemento di €3.",
        
        service_beard_smart_title: "Modellatura Barba Smart",
        service_beard_smart_desc: "Rifinitura della barba con trimmer e/o forbici, completata da shaver, olio e dopobarba per un look curato e naturale.",
        
        service_shave_smart_title: "Rasatura Barba Smart",
        service_shave_smart_desc: "Rasatura veloce e impeccabile della barba con trimmer e shaver, seguita da crema idratante per un finish morbido.",
        
        service_traditional_title: "Rasatura Tradizionale",
        service_traditional_desc: "Rasatura classica con shavette, arricchita da crema pre-barba, panno caldo e freddo e dopobarba per un'esperienza completa.",
        
        service_eyebrows_title: "Sopracciglia",
        service_eyebrows_desc: "Definizione delle sopracciglia con ceretta o pinze, per uno sguardo pulito e curato.",
        
        services_note1: "Il prezzo dei servizi può variare in base a lunghezza, tecnica e tempo richiesto.",
        services_note2: "Tutti i servizi di taglio e rasatura comprendono pulizia otonasale da peli superflui.",
        
        // Gallery
        gallery_title: "Gallery",
        gallery_subtitle: "I nostri lavori",
        
        // Booking
        booking_title: "Prenota un Appuntamento",
        booking_subtitle: "Richiedi il tuo appuntamento, ti richiameremo per confermare",
        booking_info_title: "Come funziona:",
        booking_info: "Compila il modulo con i tuoi dati e le tue preferenze. Il nostro staff ti contatterà entro 24 ore per confermare l'appuntamento o proporre un orario alternativo.",
        
        form_name: "Nome Completo *",
        form_phone: "Telefono *",
        form_email: "Email",
        form_service: "Servizio Desiderato *",
        form_date: "Data Preferita *",
        form_time: "Ora Preferita *",
        form_notes: "Note Aggiuntive",
        form_notes_placeholder: "Eventuali richieste particolari o informazioni utili...",
        form_submit: "Invia Richiesta",
        form_submit_sending: "Invio in corso...",
        form_select: "Seleziona un servizio",
        
        // Service options in select
        service_boy_option: "Taglio Boy - €17",
        service_man_option: "Taglio Uomo - €25",
        service_head_option: "Rasatura del Capo Smart - €10",
        service_beard_premium_option: "Modellatura Barba Premium - €15",
        service_beard_smart_option: "Modellatura Barba Smart - €10",
        service_shave_smart_option: "Rasatura Barba Smart - €10",
        service_traditional_option: "Rasatura Tradizionale - €20",
        service_eyebrows_option: "Sopracciglia - €5",
        
        success_message: "✓ Richiesta inviata con successo! Ti contatteremo presto per confermare l'appuntamento.",
        error_message: "Errore nell'invio. Riprova o contattaci al +39 370 361 7836",
        
        // Contact
        contact_title: "Contatti",
        contact_subtitle: "Vieni a trovarci",
        contact_address: "Indirizzo",
        contact_phone: "Telefono",
        contact_email: "Email",
        contact_hours: "Orari",
        contact_hours_text: "Mar, Mer: 09:00 - 12:30 / 14:00 - 19:00<br>Gio, Ven: 09:00 - 19:00<br>Sab: 09:00 - 18:00<br>Domenica e Lunedì: Chiuso",
        
        // Footer
        footer_rights: "Tutti i diritti riservati.",
        footer_by: "Realizzato da Gabriele Menghi",
        
        // Cookie
        cookie_message: "Questo sito utilizza cookie tecnici e di terze parti per migliorare l'esperienza di navigazione.",
        cookie_accept: "Accetto",
        cookie_link: "Privacy Policy",

        reviews_title: "Recensioni",
        reviews_subtitle: "Cosa dicono i nostri clienti",

        reviews_cta_text: "Vuoi lasciare anche tu una recensione?",
        reviews_cta_button: "Lascia una recensione"
    },
    
    en: {
        // Navigation
        nav_home: "Home",
        nav_services: "Services",
        nav_gallery: "Gallery",
        nav_recensioni: "Reviews",
        nav_booking: "Book",
        nav_contacts: "Contact",
        
        // Hero
        hero_tagline: '" Elegance is the only Beauty that never fades "',
        hero_cta: "Book Now",
        
        // Services Section
        services_title: "Our Services",
        services_subtitle: "Excellence and style in every cut",
        
        service_boy_title: "Boy's Haircut",
        service_boy_desc: "Haircut dedicated to children up to 11 years old, carefully done to ensure comfort and style.",
        
        service_man_title: "Men's Haircut",
        service_man_desc: "Men's haircut from 12 years and up, personalized according to your style and latest trends.",
        
        service_head_title: "Smart Head Shave",
        service_head_desc: "Quick and precise head shave with trimmer and shaver, completed with a moisturizing cream.",
        
        service_beard_premium_title: "Premium Beard Grooming",
        service_beard_premium_desc: "Complete beard refinement with trimmer and blade, hot and cold towel, balm, oil and aftershave. Straightening iron option with €3 supplement.",
        
        service_beard_smart_title: "Smart Beard Grooming",
        service_beard_smart_desc: "Beard refinement with trimmer and/or scissors, completed with shaver, oil and aftershave for a neat and natural look.",
        
        service_shave_smart_title: "Smart Beard Shave",
        service_shave_smart_desc: "Fast and flawless beard shave with trimmer and shaver, followed by moisturizing cream for a smooth finish.",
        
        service_traditional_title: "Traditional Shave",
        service_traditional_desc: "Classic shave with straight razor, enriched with pre-shave cream, hot and cold towel and aftershave for a complete experience.",
        
        service_eyebrows_title: "Eyebrows",
        service_eyebrows_desc: "Eyebrow definition with wax or tweezers, for a clean and neat look.",
        
        services_note1: "Service prices may vary based on length, technique and time required.",
        services_note2: "All cutting and shaving services include ear and nose hair removal.",
        
        // Gallery
        gallery_title: "Gallery",
        gallery_subtitle: "Our work",
        
        // Booking
        booking_title: "Book an Appointment",
        booking_subtitle: "Request your appointment, we'll call you back to confirm",
        booking_info_title: "How it works:",
        booking_info: "Fill out the form with your details and preferences. Our staff will contact you within 24 hours to confirm the appointment or propose an alternative time.",
        
        form_name: "Full Name *",
        form_phone: "Phone *",
        form_email: "Email",
        form_service: "Desired Service *",
        form_date: "Preferred Date *",
        form_time: "Preferred Time *",
        form_notes: "Additional Notes",
        form_notes_placeholder: "Any special requests or useful information...",
        form_submit: "Send Request",
        form_submit_sending: "Sending...",
        form_select: "Select a service",
        
        // Service options in select
        service_boy_option: "Boy's Haircut - €17",
        service_man_option: "Men's Haircut - €25",
        service_head_option: "Smart Head Shave - €10",
        service_beard_premium_option: "Premium Beard Grooming - €15",
        service_beard_smart_option: "Smart Beard Grooming - €10",
        service_shave_smart_option: "Smart Beard Shave - €10",
        service_traditional_option: "Traditional Shave - €20",
        service_eyebrows_option: "Eyebrows - €5",
        
        success_message: "✓ Request sent successfully! We will contact you soon to confirm the appointment.",
        error_message: "Error sending request. Try again or contact us at +39 370 361 7836",
        
        // Contact
        contact_title: "Contact",
        contact_subtitle: "Come visit us",
        contact_address: "Address",
        contact_phone: "Phone",
        contact_email: "Email",
        contact_hours: "Hours",
        contact_hours_text: "Tue, Wed: 09:00 - 12:30 / 14:00 - 19:00<br>Thu, Fri: 09:00 - 19:00<br>Sat: 09:00 - 18:00<br>Sunday and Monday: Closed",
        
        // Footer
        footer_rights: "All rights reserved.",
        footer_by: "Created by Gabriele Menghi",
        
        // Cookie
        cookie_message: "This site uses technical and third-party cookies to improve the browsing experience.",
        cookie_accept: "Accept",
        cookie_link: "Privacy Policy",

        reviews_title: "Reviews",
        reviews_subtitle: "What our clients say",

        reviews_cta_text: "Want to leave a review too?",
        reviews_cta_button: "Leave a review"
    }
};

// Funzione per cambiare lingua
function changeLanguage(lang) {
    // Salva la lingua scelta
    localStorage.setItem('preferredLanguage', lang);
    
    // Aggiorna i bottoni
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.dataset.lang === lang) {
            btn.classList.add('active');
        }
    });
    
    // Traduci tutti gli elementi
    translatePage(lang);
    
    // Aggiorna il cookie consent se esiste
    updateCookieConsent(lang);
}

// Funzione per tradurre la pagina
function translatePage(lang) {
    // Traduci elementi con data-translate
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translations[lang][key];
            } else if (element.tagName === 'BUTTON') {
                element.textContent = translations[lang][key];
            } else {
                element.innerHTML = translations[lang][key];
            }
        }
    });
    
    // Traduci le option del select
    const serviceSelect = document.getElementById('service');
    if (serviceSelect) {
        serviceSelect.innerHTML = `
            <option value="" data-translate="form_select">${translations[lang].form_select}</option>
            <option value="taglio-boy">${translations[lang].service_boy_option}</option>
            <option value="taglio-uomo">${translations[lang].service_man_option}</option>
            <option value="rasatura-capo">${translations[lang].service_head_option}</option>
            <option value="modellatura-premium">${translations[lang].service_beard_premium_option}</option>
            <option value="modellatura-smart">${translations[lang].service_beard_smart_option}</option>
            <option value="rasatura-barba">${translations[lang].service_shave_smart_option}</option>
            <option value="rasatura-tradizionale">${translations[lang].service_traditional_option}</option>
            <option value="sopracciglia">${translations[lang].service_eyebrows_option}</option>
        `;
    }
}

// Aggiorna cookie consent
function updateCookieConsent(lang) {
    // Il cookie consent di Osano non supporta cambio lingua dinamico
    // ma possiamo almeno salvare la preferenza per il prossimo caricamento
}

// Event listeners per i bottoni lingua
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            changeLanguage(this.dataset.lang);
        });
    });
    
    // Carica la lingua salvata o usa italiano come default
    const savedLang = localStorage.getItem('preferredLanguage') || 'it';
    changeLanguage(savedLang);
});